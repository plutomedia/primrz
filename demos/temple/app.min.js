var GRASS="../shared_assets/images/grass.png",ROCK="../shared_assets/images/rock.png",SAND="../shared_assets/images/sand.png",WATER="../shared_assets/images/water.png",DECK="../shared_assets/images/deck.png",WIDTH=100,HEIGHT=11,DEPTH=100,MIDX=WIDTH/2,MIDY=HEIGHT/2,MIDZ=DEPTH/2,ball=null,t=0,dx=7,dy=2.5,dz=4,env=new Primrose.BrowserEnvironment({skyTexture:"../shared_assets/images/bg.jpg",groundTexture:DECK,useFog:!0,fullScreenButtonContainer:"#fullScreenButtonContainer"});env.addEventListener("ready",function(){function a(a,n,s,o,r,d){cylinder(a,n,s,6,1).textured(SAND).addTo(e).at(o,r,d)}var e=hub().addTo(this.scene).at(-MIDX,0,-MIDZ),n=(brick(DECK,WIDTH,.1,DEPTH).named("Ceiling").addTo(e).at(WIDTH/2,12.5,DEPTH/2),[]);ball=brick(ROCK,1,1,1).named("Ball").addTo(e).at(0,0,0);for(s=0;s<5e3;++s)n.push(v3(Primrose.Random.number(-.5*WIDTH,.5*WIDTH),Primrose.Random.number(-.5*HEIGHT,.5*HEIGHT),Primrose.Random.number(-.5*DEPTH,.5*DEPTH)));cloud(n,this.options.backgroundColor,.05).addTo(e).at(MIDX,MIDY,MIDZ),function(a,s){n.splice(0);for(var o=a*a,r=-a;r<=a;r+=s)for(var d=r*r,i=-a;i<=a;i+=s){var t=i*i;if(d+t<o){var l=Math.sqrt(o-d-t);n.push(v3(r,l,i)),n.push(v3(r,-l,i))}}cloud(n,16711680,s*Math.sqrt(2)).addTo(e).at(MIDX-a,a,MIDZ-a)}(10,.1);for(var s=0;s<100;++s){var o=Primrose.Random.int(WIDTH),r=Primrose.Random.int(DEPTH);a(.5,1,1,o,0,r),a(.5,.5,11,o,6,r),a(2,.5,1,o,12,r)}Preloader.hide()}.bind(env)),env.addEventListener("update",function(a){t+=a,ball.position.x+=dx*a,ball.position.y+=dy*a,ball.position.z+=dz*a,(ball.position.x<0&&dx<0||WIDTH<=ball.position.x&&dx>0)&&(dx*=-1),(ball.position.y<1&&dy<0||HEIGHT<=ball.position.y&&dy>0)&&(dy*=-1),(ball.position.z<0&&dz<0||DEPTH<=ball.position.z&&dz>0)&&(dz*=-1)});